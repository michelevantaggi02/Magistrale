La quantizzazione è un'operazione sempre con perdita di informazioni.
Per quantizzare aggiungiamo una quantità nota di rumore al segnale, ma il suo effetto varia in base alle sue caratteristiche.

![[ADC.svg|center big]]
Il filtro passa basso serve ad eliminare tutte le frequenze troppo alte per essere utilizzate.

![[immagini/filtro passa basso.svg | small center]]
- **BP**: Banda passante
- **BT**: Banda di transizione
- **BA**: Banda di arresto

>[!example]
>Il primo segnale digitalizzato era la voce nel telefono (200hz - 3500hz).
>Nelle telecamere il filtro passa basso è composto da un vetro protettivo "drogato" per non far passare frequenze di luce che possono causare aliasing

# Oversampling

Si intende per oversampling quel procedimento odove si aumenta la frequenza di campionamento ($f_c$) a un valore talmente alto che il filtro passa basso analogico non è più necessario.

Viene poi inserito un filtro digitale che effettua la **decimazione** del segnale.
![[immagini/oversampling.svg | center mid]]

- $f_c'$: frequenza di campionamento con oversampling (2x, 3x, 4x,...) 

Usare oversampling e poi inserire un filtro digitale costa molto meno ed è anche meno propenso a rottura rispetto ad un filtro analogico.

Nei sensori di immagini per effettuare oversampling si aumenta il numero di pixel, questo però fa diminuire la loro capacità di catturare la luce. Per risolvere questo problema nel processo di decimazione si utilizza un sistema chiamato **binning** che mette insieme il risultato di più pixel vicini per ridurre il rumore.

## Fixed point

Formato di rappresentazione dei numeri decimali in virgola fissa.
La formula per calcolare il valore in binario è: $$N=\sum_{i = -k}^D{b_i \cdot 2^i}$$ $$N = b_D b_{D-1}\dots b_1b_0,b_{-1}b_{-2}\dots b_{-k}$$
La posizione della virgola è rilevante solo per noi, l'elaboratore può trattare i dati come se fossero numeri interi, purché la posizione della virgola sia la stessa per tutti gli operandi.

>[!example]
>$[0; 2[$ in 8 bit
>Abbiamo bisogno di un solo bit per rappresentare i numeri interi, visto che 2 è escluso:$$b_7,b_6b_5b_4b_3b_2b_1b_0$$
>Il numero più piccolo rappresentabile (**NFP**) : $2^{-7} = \frac 1{128}$
>Il numero massimo: $2-\text{NFP}$

Possiamo usare i numeri in virgola fissa come se fossero una scala:
![[immagini/scala virgola fissa.svg | center big]]
Se iniziamo a rappresentare in digitale le informazioni del mondo reale, si capisce facilmente che abbiamo numerose limitazioni.

## Gamma dinamica

La gamma dinamica è il rapporto tra il valore massimo rappresentabile e il valore minimo rappresentabile.

Il dynamic range di un formato fixed point è dato da:$$\left. \frac{(2^{B} - 1)\text{NFP}}{\text{NFP}}\right|_{dB} = 20\log_{10}(2^B-1) \approx 20 \log_{10}(2^B) = B(20 \log_{10}2) = 6B$$
L'unico modo con cui possiamo aumentare i $dB$ di un fixed point è quello di aumentare i bit, aumentando i bit miglioriamo di un fattore di 6 la scala dinamica.

## Floating point

Il fixed point è molto limitato, per questo è stato sviluppato il floating point, che permette di eseguire calcoli più complessi, a discapito di un maggiore costo computazionale.

La gamma dinamica di un floating point è di : $20\log_{10}(\frac{0.999 \cdot 10^{99}}{0.100} \cdot 10^{-99}) \approx 4000dB$

Il formato floating point è estremamente efficiente, perché in base all'esponente avvicina tra loro i numeri piccoli, mentre allontana quelli più grandi.
In termini di *errore assoluto* il floating point è meno preciso, ma l'**errore relativo** è molto minore.
$$\begin{matrix*}[r]
A= .5655 \cdot 10^e \\
\varepsilon_A=.0005 \cdot 10^e
\end{matrix*} \quad\varepsilon_R  = \frac {.0005 \cdot 10^e}{.5655 \cdot 10^e} = \frac{.0005}{.5655}$$
L'errore relativo è **costante** nel floating point.

Esistono 2 dimensioni di formati floating point:

- Float 32 bit: 1 segno, 8 esponente, 23 mantissa
- Double 64 bit: 1 segno, 11 esponente, 52 mantissa

L'esponente è rappresentato da un formato "sempre positivo", la prima metà del range è negativa (da -127 a -1), mentre la seconda metà è positiva (da -0 a 128), a parte alcune eccezioni.

Il floating point ha infatti alcuni  valori speciali da utilizzare in determinati casi:

- normalized
- denormalized
- zero
- infinity
- not a number